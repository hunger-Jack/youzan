webpackJsonp([5],{0:function(e,t,n){"use strict";var a={hotLists:"/index/hotLists",banner:"/index/banner",topList:"/category/topList",subList:"/category/subList",rank:"/category/rank",searchList:"/search/list",details:"/goods/details",deal:"/goods/deal",addCart:"/cart/add",cartList:"/cart/list",updateCart:"/cart/update",reduceCart:"/cart/reduce",removeCart:"/cart/remove",mRemoveCart:"/cart/mremove",addressList:"/address/list",addressRemove:"/address/remove",addressAdd:"/address/add",addressUpdate:"/address/update",addressDefault:"/address/setDefault"};for(var i in a)a.hasOwnProperty(i)&&(a[i]="http://rapapi.org/mockjsdata/24170"+a[i]);t.a=a},10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),i=n.n(a),o=[{name:"有赞",href:"index.html",icon:"icon-home"},{name:"分类",href:"category.html",icon:"icon-category"},{name:"购物车",href:"cart.html",icon:"icon-cart"},{name:"我",href:"member.html",icon:"icon-user"}];t.default={name:"Foot",data:function(){return{navConfig:o,currentIndex:parseInt(i.a.parse(location.search.substr(1)).index)||0}},methods:{changeNav:function(e,t){location.href=e.href+"?index="+t}}}},103:function(e,t){},11:function(e,t){},12:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-nav"},[n("ul",e._l(e.navConfig,function(t,a){return n("li",{key:a,class:{active:a===e.currentIndex},on:{click:function(n){e.changeNav(t,a)}}},[n("a",[n("i",{class:t.icon}),e._v(" "),n("div",[e._v(e._s(t.name))])])])}))])},staticRenderFns:[]}},131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(88),i=n.n(a),o=n(89),s=n.n(o),r=n(17),c=(n.n(r),n(103)),d=(n.n(c),n(1)),l=n(9),u=n.n(l),h=n(13),m=n.n(h),f=n(0),p=n(6),g=n(34),v=n.n(g),b=n(23);n.n(b);d.default.use(b.InfiniteScroll),function(){window.infiniteScroll=function(e,t,n){if(!e||!t||!document.querySelector(e))return void console.error("the scroll element and the callback function can't be null");var a={ele:e,callback:t},i=function(e){for(var t=e;t&&"body"!==t.targetName&&"html"!==t.targetName&&1===t.nodeType;){var n=document.defaultView.getComputedStyle(t,"overflowY");if("scroll"===n||"auto"===n)return t;t=t.parentNode}return window},o=function(e,t){var n,a,i,o,s,r=function(){e.call(o,s),a=n};return function(){o=this,s=arguments,i&&(clearTimeout(i),i=null),n=new Date,a?n-a>t?r():i=setTimeout(r,t-(n-a)):r()}},r=function(){var e=this.scrollTarget,t=document.querySelector(this.ele),n=this.options.distance;if(!this.options.disabled){var a=!1,i=d(e),o=i+l(e);if(e===t)a=e.scrollHeight-o<=n;else{a=u(t)-u(e)+i+t.clientHeight-o<=n}a&&this.callback&&(this.cbOptions||(this.cbOptions=c(this.options)),this.callback(this.cbOptions))}},c=function(e){var t={};return Object.defineProperty(t,"disabled",{get:function(){return e.disabled},set:function(t){e.disabled=t}}),t},d=function(e){return e===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):e.scrollTop},l=function(e){return e===window?document.documentElement.clientHeight:e.clientHeight},u=function(e){return e===window?d(window):e.getBoundingClientRect().top+d(window)};a.options=function(e){var t=e||{};return t="object"===(void 0===t?"undefined":s()(t))?t:{},t.disabled=Boolean(t.disabled),t.distance=Number(t.distance),t.checkImmediate=Boolean(t.checkImmediate),t}(n),function(e){e.scrollTarget=i(document.querySelector(e.ele)),e.scrollListener=o(r.bind(e),200),e.scrollTarget.addEventListener("scroll",e.scrollListener,!1)}(a),a.options.checkImmediate&&r.call(a)}}();var w=m.a.parse(location.search.substr(1)),L=w.keyword,y=w.id;new d.default({el:".container",data:function(){var e;return e={keyword:L,searchLists:null,isShow:!1},i()(e,"searchLists",!1),i()(e,"pageNum",1),i()(e,"pageSize",8),i()(e,"loading",!1),i()(e,"allLoaded",!1),e},created:function(){var e=this;u()({methods:"get",url:f.a.searchList,data:{pageNum:this.pageNum,pageSize:this.pageSize,keyword:L,id:y}}).then(function(t){e.searchLists=t.data.lists});var t=document.getElementById("scroll-wrapper"),n=this;infiniteScroll("#scroll-wrapper",function(e){e.disabled=n.loading=!0,console.log(t.getBoundingClientRect()),setTimeout(function(){var t=this;u()({methods:"get",url:f.a.searchList,data:{pageNum:this.pageNum,pageSize:this.pageSize,keyword:L,id:y}}).then(function(e){t.searchLists=e.data.lists}),e.disabled=n.loading=!1},2500)},{disabled:!1,distance:50,checkImmediate:!0})},methods:{getSearchLists:function(){var e=this;this.allLoaded||(this.loading=!0,setTimeout(function(){u()({methods:"get",url:f.a.searchList,data:{pageNum:e.pageNum,pageSize:e.pageSize,keyword:L,id:y}}).then(function(t){console.log(t);var n=t.data.lists;n.length<e.pageSize&&(e.allLoaded=!0),e.searchLists?e.searchLists=e.searchLists.concat(n):e.searchLists=n,e.pageNum++,e.loading=!1})},2500))},move:function(){document.documentElement.scrollTop>100?this.isShow=!0:this.isShow=!1},backTop:function(){v()(document.body,"scroll",{duration:1e3}),document.documentElement.scrollTop=0,this.isShow=!1}},mixins:[p.a]})},17:function(e,t){},6:function(e,t,n){"use strict";var a=n(8),i=n.n(a),o={filters:{twoDecimal:function(e){return e.toFixed(2)}},components:{Foot:i.a}};t.a=o},8:function(e,t,n){function a(e){n(11)}var i=n(5)(n(10),n(12),a,null,null);e.exports=i.exports}},[131]);
//# sourceMappingURL=search.86eb934ddd43588ba83f.js.map