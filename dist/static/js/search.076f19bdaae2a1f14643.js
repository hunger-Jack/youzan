webpackJsonp([3],{1:function(e,t,n){"use strict";var i={hotLists:"/index/hotLists",banner:"/index/banner",topList:"/category/topList",subList:"/category/subList",rank:"/category/rank",searchList:"/search/list",details:"/goods/details",deal:"/goods/deal"};for(var o in i)i.hasOwnProperty(o)&&(i[o]="http://rapapi.org/mockjsdata/24170"+i[o]);t.a=i},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(65),o=n.n(i),a=n(66),s=n.n(a),c=n(7),r=(n.n(c),n(81)),l=(n.n(r),n(2)),d=n(8),u=n.n(d),h=n(5),f=n.n(h),m=n(1),g=n(6),p=n(82),v=n.n(p),b=n(19);n.n(b);l.default.use(b.InfiniteScroll),function(){window.infiniteScroll=function(e,t,n){if(!e||!t||!document.querySelector(e))return void console.error("the scroll element and the callback function can't be null");var i={ele:e,callback:t},o=function(e){for(var t=e;t&&"body"!==t.targetName&&"html"!==t.targetName&&1===t.nodeType;){var n=document.defaultView.getComputedStyle(t,"overflowY");if("scroll"===n||"auto"===n)return t;t=t.parentNode}return window},a=function(e,t){var n,i,o,a,s,c=function(){e.call(a,s),i=n};return function(){a=this,s=arguments,o&&(clearTimeout(o),o=null),n=new Date,i?n-i>t?c():o=setTimeout(c,t-(n-i)):c()}},c=function(){var e=this.scrollTarget,t=document.querySelector(this.ele),n=this.options.distance;if(!this.options.disabled){var i=!1,o=l(e),a=o+d(e);if(e===t)i=e.scrollHeight-a<=n;else{i=u(t)-u(e)+o+t.clientHeight-a<=n}i&&this.callback&&(this.cbOptions||(this.cbOptions=r(this.options)),this.callback(this.cbOptions))}},r=function(e){var t={};return Object.defineProperty(t,"disabled",{get:function(){return e.disabled},set:function(t){e.disabled=t}}),t},l=function(e){return e===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):e.scrollTop},d=function(e){return e===window?document.documentElement.clientHeight:e.clientHeight},u=function(e){return e===window?l(window):e.getBoundingClientRect().top+l(window)};i.options=function(e){var t=e||{};return t="object"===(void 0===t?"undefined":s()(t))?t:{},t.disabled=Boolean(t.disabled),t.distance=Number(t.distance),t.checkImmediate=Boolean(t.checkImmediate),t}(n),function(e){e.scrollTarget=o(document.querySelector(e.ele)),e.scrollListener=a(c.bind(e),200),e.scrollTarget.addEventListener("scroll",e.scrollListener,!1)}(i),i.options.checkImmediate&&c.call(i)}}();var w=f.a.parse(location.search.substr(1)),L=w.keyword,y=w.id;new l.default({el:".container",data:function(){var e;return e={keyword:L,searchLists:null,isShow:!1},o()(e,"searchLists",!1),o()(e,"pageNum",1),o()(e,"pageSize",8),o()(e,"loading",!1),o()(e,"allLoaded",!1),e},created:function(){var e=this;u()({methods:"get",url:m.a.searchList,data:{pageNum:this.pageNum,pageSize:this.pageSize,keyword:L,id:y}}).then(function(t){e.searchLists=t.data.lists});var t=document.getElementById("scroll-wrapper"),n=this;infiniteScroll("#scroll-wrapper",function(e){e.disabled=n.loading=!0,console.log(t.getBoundingClientRect()),setTimeout(function(){var t=this;u()({methods:"get",url:m.a.searchList,data:{pageNum:this.pageNum,pageSize:this.pageSize,keyword:L,id:y}}).then(function(e){t.searchLists=e.data.lists}),e.disabled=n.loading=!1},2500)},{disabled:!1,distance:50,checkImmediate:!0})},methods:{getSearchLists:function(){var e=this;this.allLoaded||(this.loading=!0,setTimeout(function(){u()({methods:"get",url:m.a.searchList,data:{pageNum:e.pageNum,pageSize:e.pageSize,keyword:L,id:y}}).then(function(t){console.log(t);var n=t.data.lists;n.length<e.pageSize&&(e.allLoaded=!0),e.searchLists?e.searchLists=e.searchLists.concat(n):e.searchLists=n,e.pageNum++,e.loading=!1})},2500))},move:function(){document.documentElement.scrollTop>100?this.isShow=!0:this.isShow=!1},backTop:function(){v()(document.body,"scroll",{duration:1e3}),document.documentElement.scrollTop=0,this.isShow=!1}},mixins:[g.a]})},13:function(e,t){},14:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-nav"},[n("ul",e._l(e.navConfig,function(t,i){return n("li",{key:i,class:{active:i===e.currentIndex},on:{click:function(n){e.changeNav(t,i)}}},[n("a",[n("i",{class:t.icon}),e._v(" "),n("div",[e._v(e._s(t.name))])])])}))])},staticRenderFns:[]}},4:function(e,t,n){function i(e){n(13)}var o=n(18)(n(9),n(14),i,null,null);e.exports=o.exports},6:function(e,t,n){"use strict";var i=n(4),o=n.n(i),a={filters:{twoDecimal:function(e){return e.toFixed(2)}},components:{Foot:o.a}};t.a=a},7:function(e,t){},81:function(e,t){},9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n.n(i),a=[{name:"有赞",href:"index.html",icon:"icon-home"},{name:"分类",href:"category.html",icon:"icon-category"},{name:"购物车",href:"cart.html",icon:"icon-cart"},{name:"我",href:"member.html",icon:"icon-user"}];t.default={name:"Foot",data:function(){return{navConfig:a,currentIndex:parseInt(o.a.parse(location.search.substr(1)).index)||0}},methods:{changeNav:function(e,t){location.href=e.href+"?index="+t}}}}},[106]);
//# sourceMappingURL=search.076f19bdaae2a1f14643.js.map